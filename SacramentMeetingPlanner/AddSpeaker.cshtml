@{
    Layout = "~/_Layout.cshtml";
    Page.Title = "Add Speaker";

    var meetingId = "";
    var Speaker1 = "";
    var Topic1 = "";

    if (!IsPost)
    {
        if (!Request.QueryString["ID"].IsEmpty() && Request.QueryString["ID"].IsInt())
        {
            meetingId = Request.QueryString["ID"];
        }
    }

    if (IsPost)
    {
        Validation.RequireField("Speaker1", "You need at least one speaker");
        Validation.RequireField("Topic1", "What is their topic?");

        Speaker1 = Request.Form["Speaker1"];
        Topic1 = Request.Form["Topic1"];

        meetingId = Request.Form["meetingId"];

        if (Validation.IsValid())
        {
            var db = Database.Open("Meetings");
            var insertCommand = "INSERT INTO Speaker (Name, Topic, MeetingID) VALUES(@0, @1, @2)";
            db.Execute(insertCommand, Speaker1, Topic1, meetingId);
            Response.Redirect("~/Plans");
        }
    }
}

<h2>Add Speakers</h2>
@Html.ValidationSummary()
<form method="post">
    <fieldset>
        <legend>List of Speakers</legend>

        <p>
            <label for="Speaker1">Speaker1:</label>
            <input type="text" name="Speaker1" value="@Speaker1" />
        </p>

        <p>
            <label for="Topic1">Topic1:</label>
            <input type="text" name="Topic1" value="@Topic1" />
        </p>

        <input type="hidden" name="meetingId" value="@meetingId" />

        <p><input type="submit" name="buttonSubmit" value="Submit Changes" /></p>
    </fieldset>
</form>

